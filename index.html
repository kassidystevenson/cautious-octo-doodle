<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Water Drop Catch Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="game-container">
    <h1>Catch the Water Drops!</h1>
    <div id="score">Score: 0</div>
    <div id="message"></div>
    <canvas id="gameCanvas" width="400" height="600"></canvas>
  </div>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const scoreEl = document.getElementById('score');
    const messageEl = document.getElementById('message');
    
    let drops = [];
    let score = 0;

    function spawnDrop() {
      const isBad = Math.random() < 0.2; // 20% chance of bad drop
      drops.push({
        x: Math.random() * canvas.width,
        y: 0,
        radius: 15,
        speed: 2 + Math.random() * 3,
        isBad: isBad
      });
    }

    function drawDrop(drop) {
      ctx.beginPath();
      ctx.arc(drop.x, drop.y, drop.radius, 0, Math.PI * 2);
      ctx.fillStyle = drop.isBad ? 'red' : 'blue';
      ctx.fill();
      ctx.closePath();
    }

    function updateGame() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drops.forEach(drop => {
        drop.y += drop.speed;
        drawDrop(drop);
      });
      drops = drops.filter(drop => drop.y < canvas.height);
    }

    function gameLoop() {
      updateGame();
      requestAnimationFrame(gameLoop);
    }

    canvas.addEventListener('click', e => {
      const rect = canvas.getBoundingClientRect();
      const mouseX = e.clientX - rect.left;
      const mouseY = e.clientY - rect.top;
      for (let i = drops.length - 1; i >= 0; i--) {
        const d = drops[i];
        const dx = d.x - mouseX;
        const dy = d.y - mouseY;
        if (Math.sqrt(dx*dx + dy*dy) < d.radius) {
          drops.splice(i, 1);
          if (d.isBad) {
            score -= 1;
            messageEl.textContent = 'Oops! That was a pollutant!';
          } else {
            score += 1;
            messageEl.textContent = 'Nice catch!';
          }
          scoreEl.textContent = 'Score: ' + score;
          break;
        }
      }
    });

    setInterval(spawnDrop, 800);
    gameLoop();
  </script>
</body>
</html>
